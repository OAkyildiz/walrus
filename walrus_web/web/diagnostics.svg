<svg xmlns="http://www.w3.org/2000/svg" version="1.1" style="flex:1" viewBox="0 0 500 200" preserveAspectRatio="xMinYMid meet">
  <!-- Body -->
  <rect x="40" y="20" width="150" height="160" style="fill:LightBlue;stroke-width:3;stroke:rgb(0,0,0)" />

  <!-- Pods -->
  <rect x="10" y="10" width="30" height="70" ng-attr-style="fill:{{percentToColorHighBad(diagnostics.pods[0])}};stroke-width:3;stroke:rgb(0,0,0)" />
  <rect x="190" y="10" width="30" height="70" ng-attr-style="fill:{{percentToColorHighBad(diagnostics.pods[1])}};stroke-width:3;stroke:rgb(0,0,0)" />
  <rect x="10" y="120" width="30" height="70" ng-attr-style="fill:{{percentToColorHighBad(diagnostics.pods[2])}};stroke-width:3;stroke:rgb(0,0,0)" />
  <rect x="190" y="120" width="30" height="70" ng-attr-style="fill:{{percentToColorHighBad(diagnostics.pods[3])}};stroke-width:3;stroke:rgb(0,0,0)" />

  <!-- Drive -->
  <rect x="40" y="20" width="30" height="160" style="fill:LightBlue;stroke-width:3;stroke:rgb(0,0,0)" />
  <rect x="160" y="20" width="30" height="160" style="fill:LightBlue;stroke-width:3;stroke:rgb(0,0,0)" />
  <!-- State -->
  <rect x="40" ng-attr-y="{{100 - Math.max(80*diagnostics.drive[0], 0)}}" width="30" ng-attr-height="{{Math.abs(80*diagnostics.drive[0])}}" ng-attr-style="fill:{{percentToColorHighBad(Math.abs(diagnostics.drive[0]))}};stroke-width:3;stroke:rgb(0,0,0)" />
  <rect x="160" ng-attr-y="{{100 - Math.max(80*diagnostics.drive[1], 0)}}" width="30" ng-attr-height="{{Math.abs(80*diagnostics.drive[1])}}" ng-attr-style="fill:{{percentToColorHighBad(Math.abs(diagnostics.drive[1]))}};stroke-width:3;stroke:rgb(0,0,0)" />

  <!-- Computer -->
  <rect x="85" y="60" width="60" height="60" style="fill:LightBlue;stroke-width:3;stroke:rgb(0,0,0)" />
  <rect x="85" y="60" width="30" height="60" style="fill:LightBlue;stroke-width:3;stroke:rgb(0,0,0)" />
  <rect x="115" y="60" width="30" height="60" style="fill:LightBlue;stroke-width:3;stroke:rgb(0,0,0)" />
  <!-- State -->
  <rect x="85" ng-attr-y="{{60 + 60*(1-diagnostics.cpu)}}" width="30" ng-attr-height="{{60*diagnostics.cpu}}" ng-attr-style="fill:{{percentToColorHighBad(diagnostics.cpu)}};stroke-width:3;stroke:rgb(0,0,0)" />
  <rect x="115" ng-attr-y="{{60 + 60*(1-diagnostics.memory)}}" width="30" ng-attr-height="{{60*diagnostics.memory}}" ng-attr-style="fill:{{percentToColorHighBad(diagnostics.memory)}};stroke-width:3;stroke:rgb(0,0,0)" />

  <!-- Batteries -->
  <rect x="240" y="10" width="70" height="70" style="fill:LightBlue;stroke-width:3;stroke:rgb(0,0,0)" />
  <rect x="240" y="90" width="70" height="70" style="fill:LightBlue;stroke-width:3;stroke:rgb(0,0,0)" />
  <rect x="320" y="10" width="70" height="70" style="fill:LightBlue;stroke-width:3;stroke:rgb(0,0,0)" />
  <rect x="320" y="90" width="70" height="70" style="fill:LightBlue;stroke-width:3;stroke:rgb(0,0,0)" />
  <!-- State -->
  <rect x="240" ng-attr-y="{{10 + 70*(1-diagnostics.batteries[0])}}" width="70" ng-attr-height="{{70*diagnostics.batteries[0]}}" ng-attr-style="fill:{{percentToColorLowBad(diagnostics.batteries[0])}};stroke-width:3;stroke:rgb(0,0,0)" />
  <g ng-hide="diagnostics.batteries_connected[0]">
    <rect x="240" y="10" width="70" height="70" style="fill:Red;stroke-width:3;stroke:rgb(0,0,0)" />
    <line x1="240" y1="10" x2="310" y2="80" style="stroke:Black;stroke-width:3" />
    <line x1="240" y1="80" x2="310" y2="10" style="stroke:Black;stroke-width:3" />
  </g>

  <rect x="240" ng-attr-y="{{90 + 70*(1-diagnostics.batteries[1])}}" width="70" ng-attr-height="{{70*diagnostics.batteries[1]}}" ng-attr-style="fill:{{percentToColorLowBad(diagnostics.batteries[1])}};stroke-width:3;stroke:rgb(0,0,0)" />
  <g ng-hide="diagnostics.batteries_connected[1]">
    <rect x="240" y="90" width="70" height="70" style="fill:Red;stroke-width:3;stroke:rgb(0,0,0)" />
    <line x1="240" y1="90" x2="310" y2="160" style="stroke:Black;stroke-width:3" />
    <line x1="240" y1="160" x2="310" y2="90" style="stroke:Black;stroke-width:3" />
  </g>

  <rect x="320" ng-attr-y="{{10 + 70*(1-diagnostics.batteries[2])}}" width="70" ng-attr-height="{{70*diagnostics.batteries[2]}}" ng-attr-style="fill:{{percentToColorLowBad(diagnostics.batteries[2])}};stroke-width:3;stroke:rgb(0,0,0)" />
  <g ng-hide="diagnostics.batteries_connected[2]">
    <rect x="320" y="10" width="70" height="70" style="fill:Red;stroke-width:3;stroke:rgb(0,0,0)" />
    <line x1="320" y1="10" x2="390" y2="80" style="stroke:Black;stroke-width:3" />
    <line x1="320" y1="80" x2="390" y2="10" style="stroke:Black;stroke-width:3" />
  </g>

  <rect x="320" ng-attr-y="{{90 + 70*(1-diagnostics.batteries[3])}}" width="70" ng-attr-height="{{70*diagnostics.batteries[3]}}" ng-attr-style="fill:{{percentToColorLowBad(diagnostics.batteries[3])}};stroke-width:3;stroke:rgb(0,0,0)" />
  <g ng-hide="diagnostics.batteries_connected[3]">
    <rect x="320" y="90" width="70" height="70" style="fill:Red;stroke-width:3;stroke:rgb(0,0,0)" />
    <line x1="320" y1="90" x2="390" y2="160" style="stroke:Black;stroke-width:3" />
    <line x1="320" y1="160" x2="390" y2="90" style="stroke:Black;stroke-width:3" />
  </g>


  <!-- ROS -->
  <rect x="500" y="90" width="70" height="70" ng-attr-style="fill:{{(ros.connected?'green':'red')}}" />
  <text x="535" y="125" text-anchor="middle" alignment-baseline="middle" font-weight="bolder" font-size="larger">ROS</text>

  <!-- Gamepad -->
  <rect x="600" y="90" width="70" height="70" ng-attr-style="fill:{{(gamepad.connected?'green':'red')}}" />
  <text x="635" y="125" text-anchor="middle" alignment-baseline="middle" font-weight="bolder" font-size="larger">G</text>

</svg>
